# OwlBookstore | Testing

Return to [README](README.md)
- - -

## Table of Contents

### [Responsiveness Testing](#responsiveness-testing-1)

### [Browser Compatibility Testing](#browser-compatibility-testing-1)

### [Device Testing](#device-testing-1)

### [Code Validation](#code-validation-1)

* [HTML Validation](#html-validation)
* [CSS Validation](#css-validation)
* [JavaScript Validation](#javascript-validation)
* [Python](#python)

### [Lighthouse Report](#lighthouse-report-1)

### [Bugs](#bugs-1)

* [Resolved Bugs](#resolved-bugs)
* [Unresolved Bugs](#unresolved-bug)

### [Features Testing](#features-testing-1)

### [Django Framework Testing](#django-framework-testing-1)

- - -

## Responsiveness Testing

The deployed website underwent extensive testing across a spectrum of devices and screen sizes to guarantee its responsiveness and adaptability. Developer Tools were instrumental in simulating diverse screen dimensions, facilitating a comprehensive evaluation of the website's behavior on various devices.
A combination of Bootstrap classes, custom CSS, and template syntax played a pivotal role in crafting the desired design. This strategic implementation not only ensured visual consistency but also maintained functional integrity across different platforms. By leveraging these tools and techniques, the website is poised to deliver an optimized user experience, regardless of the device being used.

![Am I Responsive](/media/sreenshots_webp/owl_bookstore_responsive.webp)

## Browser Compatibility Testing

The project was tested on multiple web browsers to check for compatibility issues and ensure it functions as expected across all of them. This testing process guarantees a smooth and consistent user experience, regardless of the browser used.

<details>
<summary> Firefox
</summary>

![Firefox](/media/sreenshots_webp/firefox_test.webp)
</details>

<details>
<summary> Microsoft Edge
</summary>

![Microsoft Edge](/media/sreenshots_webp/edge_test.webp)
</details>

<details>
<summary> Opera
</summary>

![Opera](/media/sreenshots_webp/opera_test.webp)
</details>

<details>
<summary> Chrome - Laptop
</summary>

![Chrome on Laptop](/media/sreenshots_webp/chrome_test.webp)
</details>

<details>
<summary> Safari - iPad
</summary>

![Safari on iPad](/media/sreenshots_webp/safari_ipad.webp)
</details>

<details>
<summary> Safari - iPhone
</summary>

![Safari on iPhone](/media/sreenshots_webp/safari_iphone.webp)
</details>

## Device Testing

Device testing encompassed various devices, including iPhone 12 Pro, iPad, MacBook Air, iPhone SE, Lenovo Yoga, Acer, Samsung A14, and Samsung S22. Collaboration with family members, friends, and fellow college students was crucial in executing these tests. This holistic approach ensured a comprehensive evaluation of the website's performance across various devices and screen sizes, contributing to developing a more robust and user-friendly final product.

## Code Validation

### HTML Validation

<details>
<summary> Home Page
</summary>

![Home Page](/media/sreenshots_webp/validation_home.webp)
</details>

<details>
<summary> Products Page
</summary>

![Products Page](/media/sreenshots_webp/validation_products.webp)
</details>

<details>
<summary> Products Detail Page
</summary>

![Product Detail Page](/media/sreenshots_webp/validation_product_details.webp)
</details>

<details>
<summary> Sign Up Page
</summary>

![Sign Up Page](/media/sreenshots_webp/validation_register.webp)
</details>

<details>
<summary> Login Page
</summary>

![Login Page](/media/sreenshots_webp/validation_signin.webp)
</details>

<details>
<summary> Logout Page
</summary>

![Logout Page](/media/sreenshots_webp/validation_signout.webp)
</details>

<details>
<summary> Update Product Page
</summary>

![Update Product Page](/media/sreenshots_webp/validation_update.webp)
</details>

<details>
<summary> Add Comic Page
</summary>

![Add Comic Page](/media/sreenshots_webp/validation_add_comic.webp)
</details>

<details>
<summary> Add Book Page
</summary>

![Add Book Page](/media/sreenshots_webp/validation_add_book.webp)
</details>

<details>
<summary> Bag Page
</summary>

![Bag Page](/media/sreenshots_webp/validation_bag.webp)
</details>

<details>
<summary> Checkout Page
</summary>

![Checkout Page](/media/sreenshots_webp/validation_checkout.webp)
</details>

<details>
<summary> Checkout Success / Order History
</summary>

![Checkout and Order History Page](/media/sreenshots_webp/validation_checkout_success.webp)
</details>

<details>
<summary> My Profile Page
</summary>

![My Profile Page](/media/sreenshots_webp/validation_myprofile.webp)
</details>

<details>
<summary> Change Password Page
</summary>

![Change Password Page](/media/sreenshots_webp/validation_password.webp)
</details>

<details>
<summary> Update Email Page
</summary>

![Update Email Page](/media/sreenshots_webp/validation_email.webp)
</details>

### CSS Validation

<details>
<summary> Custom CSS - base.css
</summary>

![Base css](/media/sreenshots_webp/validation_css_base.webp)
</details>

<details>
<summary> Custom CSS - profile.css
</summary>

![Profile css](/media/sreenshots_webp/validation_css_profile.webp)
</details>

<details>
<summary> Custom CSS - checkout.css
</summary>

![Checkout css](/media/sreenshots_webp/validation_css_checkout.webp)
</details>

### JavaScript Validation

<details>
<summary> Custom JS arrow_up.js
</summary>

![Arrow Up JS](/media/sreenshots_webp/js_arrow_up.webp)
</details>

<details>
<summary> Custom JS bag.js
</summary>

![Bag JS](/media/sreenshots_webp/js_bag.webp)
</details>

<details>
<summary> Custom JS newsletter.js - one unused variable is part of the Mailchimp Newsletter service javascript code.
</summary>

![Newsletter JS](/media/sreenshots_webp/js_newsletter.webp)
</details>

<details>
<summary> Custom JS toast.js
</summary>

![Toast JS](/media/sreenshots_webp/js_toast.webp)
</details>

<details>
<summary> Custom JS profiles.js
</summary>

![Profiles JS](/media/sreenshots_webp/js_profiles.webp)
</details>

<details>
<summary> Custom JS quantity_input_script.js
</summary>

![Quantity Input JS](/media/sreenshots_webp/js_quantity_input.webp)
</details>

<details>
<summary> Custom JS script-product.js
</summary>

![Product JS](/media/sreenshots_webp/js_script-products.webp)
</details>

<details>
<summary> Custom JS sorting.js
</summary>

![Sorting JS](/media/sreenshots_webp/js_sorting.webp)
</details>

<details>
<summary> Custom JS stripe_elements.js
</summary>

![Stripe Elements JS](/media/sreenshots_webp/js_stripe_elements.webp)
</details>

### Python

#### recipes app

<details>
<summary> admin.py
</summary>

![admin.py](/media/sreenshots_webp/#.webp)
</details>

<details>
<summary> forms.py
</summary>

![forms.py](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703440910/django-project/forms.py-validation_aka7ac.webp)
</details>

<details>
<summary> models.py
</summary>

![models.py](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703440907/django-project/models.py-validation_yrsjis.webp)
</details>

<details>
<summary> views.py
</summary>

![views.py](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703443092/django-project/views.py-validation_ptpsob.webp)
</details>

<details>
<summary> urls.py
</summary>

![urls.py](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703443091/django-project/user-urls.py-validation_x4qqg5.webp)
</details>

#### chefshelper

<details>
<summary> settings.py
</summary>

![settings.py](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703438756/django-project/settings.py-validator_koh00o.webp)
</details>

<details>
<summary> urls.py
</summary>

![urls.py](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703438755/django-project/urls.py-validation_j9pk9y.webp)
</details>

## Lighthouse Report

<details>
<summary> Home Page
</summary>

![Home Page](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703526648/django-project/home-lighthouse-test_yxdyii.webp)
</details>

<details>
<summary> Recipes Page
</summary>

![Recipes Page](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703526648/django-project/recipes-lighthouse-test_kxll43.webp)
</details>

<details>
<summary> Sign Up Page
</summary>

![Sign Up Page](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703526649/django-project/sign-up-lighthouse-test_vyehxz.webp)
</details>

<details>
<summary> Login Page
</summary>

![Login Page](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703526649/django-project/sign-in-lighthouse-test_k4uqxk.webp)
</details>

<details>
<summary> Add Recipe Page
</summary>

![Add Recipe Page](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703535015/django-project/add-recipe-lighthouse-test_ld5eyi.webp)
</details>

<details>
<summary> Update Recipe Page
</summary>

![Update Recipe Page](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703535740/django-project/edit-recipe-lighthouse-test_k1obog.webp)
</details>

<details>
<summary> Recipe Detail View Page
</summary>

![Recipe Detail View Page](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703526648/django-project/recipe-view-lighthouse-test_ehxdjn.webp)
</details>

## Bugs

### Resolved Bugs

#### Form Not Submitting

* Javascript code prevents adding recipe form from being submitted by always returning a false value.

<details>
<summary> Code changes
</summary>

```javascript

function validateReviewForm(className) {

    let isValid = true;

    $(className).each(function () {
        let reviewField = $(this);
        let reviewValue = reviewField.val().trim();
        isValid = false; // Before, isValid inside loop, always return false

        if (reviewValue === '') {
            isValid = false; // After, isValid placed outside loop

            $('.empty-error').text('Text input cannot be empty').show();
            setTimeout(function () {
                $('.empty-error').empty().hide();
            }, 8000);

            reviewField.focus();
        }
    });
    return isValid;
}

```

</details>

#### Add Recipe Page - HTML validation errors

* The HTML page was missing aria labels for some buttons and links. Also, form needed form labels for some fields. Missing labels were added, and the code passed the test.

#### Update Recipe Page - HTML validation errors

* The update_recipe.html had three errors when validating the HTML code. The `button` was wrapped in the `a` element, the `i` element had `type="button"` attribute added, and the `div` element was wrapped in `span`. All errors were corrected by removing not allowed elements`button, type="button" and span` and changing them to `a` with Bootstrap class btn, and `span` element to `div`.

#### Index Page - HTML validation errors

* The page failed the validator test due to the `a` element containing attribute `type="button"`. The issue was resolved by removing the attribute.

#### Print button not visible for all recipes

* Users could not print recipes created by others. This was due to the template code issue; the print button was inside the if statement, which checks if the user is the recipe's author, hiding the print button for all recipes not created by the user. The function was fixed by moving the `{% endif %}` statement before the print button.

<details>
<summary> Code changes
</summary>

```html

<div class="row taskbar no-print">
        <div class="col-lg-6 offset-lg-6 col-12 py-2 no-print d-flex justify-content-center">
            {% if request.user == recipe.author %}
            <a class="btn btn-outline-info btn-sm control-button" role="button"
                href="{% url 'update_recipe' slug=recipe.slug %}">
                <i class="fa-regular fa-pen-to-square"></i> Edit <span class="d-none d-xl-inline">Recipe</span>
            </a>
            <a class="btn btn-outline-danger btn-sm control-button" role="button" href="#" id="delete-recipe-link">
                <i class="fa-regular fa-trash-can"></i>
                <span class="d-none d-sm-inline"> Delete</span><span class="d-none d-xl-inline"> Recipe</span>
            </a>
            {% endif %}
            <a class="btn btn-outline-warning btn-sm control-button" role="button" href="#" id="print-button">
                <i class="fa-solid fa-print no-print"></i>
                <span class="d-none d-sm-inline"> Print</span><span class="d-none d-xl-inline"> Recipe</span>
            </a>
            <!-- {% endif %} Before -->
        </div>
    </div>

```

</details>

#### Search field do not display results

* The issue was caused by incorrect `url` for the form used to submit User search request. The issue was fixed by providing the correct `url`.

<details>
<summary> Code changes
</summary>

```html

<!-- <form action="{% url 'home' %}" method="GET" class="form-inline my-2 my-lg-0"> -->
<form action="{% url 'recipe_images' %}" method="GET" class="form-inline my-2 my-lg-0">

```

</details>

#### User could remove all ingredients

* The script allowed Users to remove all ingredients fields. This was causing form to be invalid and preventing submitting. The code was fixed by adding `not(:first)`.

<details>
<summary> Code changes
</summary>

```javascript

const hideEmptyIngredientFieldsExceptFirst = () => {

    $('.ingredient-name:first').attr('required', 'required');
    $('.ingredient-quantity:first').attr('required', 'required');
    //  $("#ingredient-formset-container").find('.formset-row').each(function () {
    $("#ingredient-formset-container").find('.formset-row:not(:first)').each(function () {
        var nameField = $(this).find('input[name$="name"]');
        var quantityField = $(this).find('input[name$="quantity"]');

        if (!quantityField.val()) {
            $(this).removeClass('show').addClass('hide');
            $(this).find("[name$='-DELETE']").prop('checked', true);
        } else {
            $(this).removeClass('hide').addClass('show');
            nameField.prop('required', true);
            quantityField.prop('required', true);
        }
    });
};


```

</details>

### Unresolved Bug

#### None

## Features Testing

| Page          | User Action   | Expected Result  | Notes            |
|---------------|---------------|------------------|------------------|
| Home Page     |               |                  |                  |
|               | Click on Logo | Redirect to Home Page | PASS        |
|               | Click on Register - Navigation Bar | Redirect to Sign Up page | PASS |
|               | Click on Join Now button - Hero Section | Redirect to Sign Up page | PASS |
|               | Click on Recipes - Navigation Bar | Redirect to Recipes page | PASS |
|               | Click on Home - Navigation Bar | Redirect to Home Page | PASS |
|               | Click on GitHub icon - Footer | Open a new tab to project GitHub repository | PASS |
|               | Click on LinkedIn icon - Footer | Open a new tab with developer account | PASS |
|               | Hover over Navigation bar elements | Change colour | PASS |
| Home Page (Logged In - User)  |                 |          |  |
|               | After Login/Sign Up | Join Now button is not visible | PASS |
|               | After Login/Sign Up | Navigation Bar change (Logout option available) | PASS |
|               | After Login/Sign Up | Confirmation message is displayed above Hero section | PASS |
|               | Click on users name | Open dropdown menu | PASS |
|               | Click on Logout | Open confirmation modal | PASS |
|               | Click on Sign Out - Modal | User received confirmation message | PASS |
|               | Click on Sign Out - Modal | Redirect to Home page | PASS |
| Sign Up Page  |                  |                  |                  |
|               | Enter not valid email | Form will not submit, request valid email format | PASS |
|               | Enter valid email | No request | PASS |
|               | No email provided | Form will submit, email is optional | PASS |
|               | Type invalid password | Error will inform user about incorrect password | PASS |
|               | Type valid password | Form will submit | PASS |
|               | Type different second password | Form will not submit, error will inform about incorrect password | PASS |
|               | Click Sign Up when form is blank | Required form fields message appears | PASS |
|               | Click Sign In | Redirect to Login page | PASS |
|               | Provide all correct information and click Sign Up | Account is created, user is logged in, redirected to home page and success message appears | PASS |
| Login Page  |                  |                  |                  |
|               | Click on Sign Up | Redirect to Sign Up page | PASS |
|               | Try invalid username | Username is not correct | PASS |
|               | Try invalid password | Password is not correct | PASS |
|               | Valid password and username | User is logged in and success message displayed | PASS |
|               | Click Sign In when form is blank | Required form fields message appears | PASS |
| Logout Page  |                  |                  |                  |
|               | Click on Logout button | Opens logout confirmation modal | PASS |
|               | Click on Logout button (Modal) | User is logged out, success message appears, redirects to home page | PASS |
| Browse Recipes Page (Unregister User) |                  |                  |                  |
|               | Hover over recipe cards | Recipe name and partial description appears | PASS |
|               | Enter recipe name in the search box | Recipe exists, recipe displays below | PASS |
|               | Enter recipe name in the search box | Recipe exists, heading changes to search results | PASS |
|               | Enter recipe name in the search box | Recipe does not exist, message appears, no recipes found | PASS |
|               | Enter partial recipe name in the search box | Recipe does not exist, recipes containing search fraze in the name appear | PASS |
|               | Click on the recipe card | Redirect to login page | PASS |
|               | Click on the Next button | Redirect to the next page | PASS |
|               | Click on the Prev button | Redirect to the previous page | PASS |
|               | Click on the page number | Redirect to the page with that number | PASS |
| Browse Recipes Page (Registered User)  |                 |                  |                  |
|               | All actions as per Unregister User | All correct | PASS |
|               | Click on the recipe card | Redirect to recipe detail view page | PASS |
|               | Visible Add Recipe button | Button is visible underneath nav-bar | PASS |
|               | Click Add Recipe button | Redirect to add recipe page page | PASS |
| Recipe Detail View Page |  |    |    |
|               | Read the recipe details | All recipe details provided by author are visible to user | PASS |
|               | Submit empty review field | The error message will appear | PASS |
|               | Submit review without rating | The review submits, rating is not required | PASS |
|               | Submit review with rating | Review submits, average rating changes, success message appears and redirect to recipes page | PASS |
|               | Return to rated recipe detail page | Message appears to inform, recipe was rated already | PASS |
|               | Return to rated recipe detail page | Message appears to inform, reviews are moderated | PASS |
|               | Return to rated recipe detail page | User can submit another review | PASS |
|               | Submit review | Total number of reviews updates | PASS |
|               | Click on heart | Total number of likes changes, heart change to full | PASS |
|               | Click on heart to unlike | Total number of likes changes, heart change to empty | PASS |
|               | Visible Edit button | Only for recipes where user is author | PASS |
|               | Click on Edit button | Redirect to update recipe page | PASS |
|               | Click on Print button | Opens print menu, reviews are hidden | PASS |
|               | Visible Delete button | Only for recipes where user is author | PASS |
|               | Click on Delete button | Opens delete recipe confirmation modal | PASS |
|               | Click on Delete button | Deletes the recipe, confirmation message | PASS |
| Add Recipe Page |  |    |    |
|               | Add recipe with the same title | The recipe name already exist message | PASS |
|               | Remove all instruction | This field cannot be empty | PASS |
|               | Click plus | Add new instruction field | PASS |
|               | Click minus | Remove instruction field | PASS |
|               | Instruction > 350 length | The text is cropped at 350 characters | PASS |
|               | Instruction field | The scroll bar appear for longer text | PASS |
|               | Add image above 5MB | Image cannot be above 5MB | PASS |
|               | No image provided | Form submits, image is not required | PASS |
|               | No prep time | Field is required message | PASS |
|               | Prep time above 600 | Alert message, value must be equal or less to 600 | PASS |
|               | Prep time is negative | Alert message, value must be greater or equal to 0 | PASS |
|               | Prep time left empty | Alert message, please fill in this field | PASS |
|               | Prep time accepts only numbers | Field do not accept other values | PASS |
|               | Cook time | All tests as per prep time | PASS |
|               | Number of Servings equal 0 | Alert message, value must be greater or equal to 1 | PASS |
|               | Number of Servings equal 0 | Alert message, value must be less than or equal to 10 | PASS |
|               | Number of Servings is negative | Alert message, value must be greater or equal to 1 | PASS |
|               | Ingredients fields is empty | Alert message, Please fill in this field | PASS |
|               | Ingredients fields is space bar | Alert message, This field is required | PASS |
|               | Ingredients quantity value < 0 | Alert message, value must be greater or equal to 0 | PASS |
|               | Ingredients quantity value > 9999.99 | Alert message, value must be greater or equal to 0 | PASS |
|               | Click plus | Add new ingredient field | PASS |
|               | Click minus | Remove ingredient field | PASS |
|               | Publish or Save as Draft | Alert message, value must be less than or equal to 9999.99 | PASS |
|               | When submitted as draft | Redirects to recipes page, success message displayed, recipe is placed behind published recipes, recipe is marked as draft, recipe is not visible to other users | PASS |
|               | When submitted as published | Redirects to recipes page, success message displayed, recipe is placed at the beginning of the recipes, recipe is visible to other users  | PASS |
| Edit Recipe Page |  |    |    |
|               | As per Add Recipe | All test as for add recipe page | PASS |
|               | Existing fields content | All content displays correctly | PASS |
|               | Change Existing fields content | All content can be modified | PASS |
| Admin Panel |  |    |    |
|               | Add Recipe | Admin can build the recipe | PASS |
|               | Add Ingredient | Admin can add ingredient | PASS |
|               | Edit Recipe | Admin can edit recipe | PASS |
|               | Edit Ingredient | Admin can edit ingredient | PASS |
|               | CRUD Review | Admin can read, add, edit and delete reviews | PASS |
|               | Approve Review | Admin approve one or selected reviews | PASS |
|               | Delete Recipe| Admin can delete one or selected reviews | PASS |
|               | Filter/Sort Recipe | Admin can filter/sort recipes | PASS |
|               | Filter/Sort Review | Admin can filter/sort reviews | PASS |
|               | Search Review | Admin can search reviews | PASS |
|               | Search Recipe | Admin can search recipe | PASS |

## Django Framework Testing

* Django Automated Testing was added to test the basic functionality of Django models and views.

<details>
<summary> Django Coverage
</summary>

![Django Coverage](https://res.cloudinary.com/dcrbeonr9/image/upload/v1703877076/django-project/django-testing_njzgit.webp)
</details>

- - -

Return to [README](README.md)